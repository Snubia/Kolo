{"ast":null,"code":"var _jsxFileName = \"/Users/sandrine/Desktop/My_Projects/Kolo/frontend/src/screens/CartScreen.js\";\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { addToCart, removeFromCart } from '../actions/cartActions';\nimport MessageBox from '../components/MessageBox';\nexport default function CartScreen(props) {\n  const productId = props.match.params.id;\n  const qty = props.location.search ? Number(props.location.search.split('=')[1]) : 1;\n  const cart = useSelector(state => state.cart);\n  const {\n    cartItems\n  } = cart;\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (productId) {\n      dispatch(addToCart(productId, qty));\n    }\n  }, [dispatch, productId, qty]);\n\n  const removeFromCartHandler = id => {\n    // delete action\n    dispatch(removeFromCart(id));\n  };\n\n  const checkoutHandler = () => {\n    props.history.push('/signin?redirect=shipping');\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }\n  }, \" Shopping Cart \"), \" \", cartItems.length === 0 ? /*#__PURE__*/React.createElement(MessageBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 34\n    }\n  }, \"Your is Cart is empty. \", /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 32\n    }\n  }, \" Go back to Shopping \"), \" \") : /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }, \" \", cartItems.map(item => /*#__PURE__*/React.createElement(\"li\", {\n    key: item.product,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: item.image,\n    alt: item.name,\n    className: \"small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }), \" \"), \" \", /*#__PURE__*/React.createElement(\"div\", {\n    className: \"min-30\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/product/${item.product}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, \" \", item.name, \" \"), \" \"), \" \", /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    value: item.qty,\n    onChange: e => dispatch(addToCart(item.product, Number(e.target.value))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, [...Array(item.countInStock).keys()].map(x => /*#__PURE__*/React.createElement(\"option\", {\n    key: x + 1,\n    value: x + 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 65\n    }\n  }, \" \", x + 1, \" \")), \" \"), \" \"), \" \", /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 19\n    }\n  }, \" $ \", item.price, \" \"), \" \", /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: () => removeFromCartHandler(item.product),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }\n  }, \"Delete \"), \" \"), \" \"), \" \")), \" \"), \" \"), \" \", /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 5\n    }\n  }, \"Subtotal(\", cartItems.reduce((a, c) => a + c.qty, 0), \"items): $ \", cartItems.reduce((a, c) => a + c.price * c.qty, 0), \" \"), \" \"), \" \", /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: checkoutHandler,\n    className: \"primary block\",\n    disabled: cartItems.length === 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 5\n    }\n  }, \"Proceed to Checkout \"), \" \"), \" \"), \" \"), \" \"), \" \");\n}","map":{"version":3,"sources":["/Users/sandrine/Desktop/My_Projects/Kolo/frontend/src/screens/CartScreen.js"],"names":["React","useEffect","useDispatch","useSelector","Link","addToCart","removeFromCart","MessageBox","CartScreen","props","productId","match","params","id","qty","location","search","Number","split","cart","state","cartItems","dispatch","removeFromCartHandler","checkoutHandler","history","push","length","map","item","product","image","name","e","target","value","Array","countInStock","keys","x","price","reduce","a","c"],"mappings":"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","sourcesContent":["import React, {\n  useEffect\n} from 'react';\nimport {\n  useDispatch,\n  useSelector\n} from 'react-redux';\nimport {\n  Link\n} from 'react-router-dom';\nimport {\n  addToCart,\n  removeFromCart\n} from '../actions/cartActions';\nimport MessageBox from '../components/MessageBox';\n\nexport default function CartScreen(props) {\n  const productId = props.match.params.id;\n  const qty = props.location.search ?\n    Number(props.location.search.split('=')[1]) :\n    1;\n  const cart = useSelector((state) => state.cart);\n  const {\n    cartItems\n  } = cart;\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (productId) {\n      dispatch(addToCart(productId, qty));\n    }\n  }, [dispatch, productId, qty]);\n\n  const removeFromCartHandler = (id) => {\n    // delete action\n    dispatch(removeFromCart(id));\n  };\n\n  const checkoutHandler = () => {\n    props.history.push('/signin?redirect=shipping');\n  };\n  return ( <\n    div className = \"row top\" >\n    <\n    div className = \"col-2\" >\n    <\n    h1 > Shopping Cart < /h1> {\n      cartItems.length === 0 ? ( <\n        MessageBox >\n        Your is Cart is empty. < Link to = \"/\" > Go back to Shopping < /Link> <\n        /MessageBox>\n      ) : ( <\n        ul > {\n          cartItems.map((item) => ( <\n            li key = {\n              item.product\n            } >\n            <\n            div className = \"row\" >\n            <\n            div >\n            <\n            img src = {\n              item.image\n            }\n            alt = {\n              item.name\n            }\n            className = \"small\" >\n            < /img> <\n            /div> <\n            div className = \"min-30\" >\n            <\n            Link to = {\n              `/product/${item.product}`\n            } > {\n              item.name\n            } < /Link> <\n            /div> <\n            div >\n            <\n            select value = {\n              item.qty\n            }\n            onChange = {\n              (e) =>\n              dispatch(\n                addToCart(item.product, Number(e.target.value))\n              )\n            } >\n            {\n              [...Array(item.countInStock).keys()].map((x) => ( <\n                option key = {\n                  x + 1\n                }\n                value = {\n                  x + 1\n                } > {\n                  x + 1\n                } <\n                /option>\n              ))\n            } <\n            /select> <\n            /div> <\n            div > $ {\n              item.price\n            } < /div> <\n            div >\n            <\n            button type = \"button\"\n            onClick = {\n              () => removeFromCartHandler(item.product)\n            } >\n            Delete <\n            /button> <\n            /div> <\n            /div> <\n            /li>\n          ))\n        } <\n        /ul>\n      )\n    } <\n    /div> <\n    div className = \"col-1\" >\n    <\n    div className = \"card card-body\" >\n    <\n    ul >\n    <\n    li >\n    <\n    h2 >\n    Subtotal({\n        cartItems.reduce((a, c) => a + c.qty, 0)\n      }\n      items): $ {\n      cartItems.reduce((a, c) => a + c.price * c.qty, 0)\n    } <\n    /h2> <\n    /li> <\n    li >\n    <\n    button type = \"button\"\n    onClick = {\n      checkoutHandler\n    }\n    className = \"primary block\"\n    disabled = {\n      cartItems.length === 0\n    } >\n    Proceed to Checkout <\n    /button> <\n    /li> <\n    /ul> <\n    /div> <\n    /div> <\n    /div>\n  );\n}"]},"metadata":{},"sourceType":"module"}