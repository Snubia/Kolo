{"ast":null,"code":"import React,{useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{createProduct,listProducts}from'../actions/productActions';import LoadingBox from'../components/LoadingBox';import MessageBox from'../components/MessageBox';import{PRODUCT_CREATE_RESET}from'../constants/productConstants';export default function ProductListScreen(props){var productList=useSelector(function(state){return state.productList;});var loading=productList.loading,error=productList.error,products=productList.products;var productCreate=useSelector(function(state){return state.productCreate;});var loadingCreate=productCreate.loading,errorCreate=productCreate.error,successCreate=productCreate.success,createdProduct=productCreate.product;var dispatch=useDispatch();useEffect(function(){if(successCreate){dispatch({type:PRODUCT_CREATE_RESET});props.history.push(\"/product/\".concat(createdProduct._id,\"/edit\"));}dispatch(listProducts());},[createdProduct,dispatch,props.history,successCreate]);var deleteHandler=function deleteHandler(){/// TODO: dispatch delete action\n};var createHandler=function createHandler(){dispatch(createProduct());};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Products\"),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"primary\",onClick:createHandler},\"Create Product\")),loadingCreate&&/*#__PURE__*/React.createElement(LoadingBox,null),errorCreate&&/*#__PURE__*/React.createElement(MessageBox,{variant:\"danger\"},errorCreate),loading?/*#__PURE__*/React.createElement(LoadingBox,null):error?/*#__PURE__*/React.createElement(MessageBox,{variant:\"danger\"},error):/*#__PURE__*/React.createElement(\"table\",{className:\"table\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"ID\"),/*#__PURE__*/React.createElement(\"th\",null,\"NAME\"),/*#__PURE__*/React.createElement(\"th\",null,\"PRICE\"),/*#__PURE__*/React.createElement(\"th\",null,\"CATEGORY\"),/*#__PURE__*/React.createElement(\"th\",null,\"BRAND\"),/*#__PURE__*/React.createElement(\"th\",null,\"ACTIONS\"))),/*#__PURE__*/React.createElement(\"tbody\",null,products.map(function(product){return/*#__PURE__*/React.createElement(\"tr\",{key:product._id},/*#__PURE__*/React.createElement(\"td\",null,product._id),/*#__PURE__*/React.createElement(\"td\",null,product.name),/*#__PURE__*/React.createElement(\"td\",null,product.price),/*#__PURE__*/React.createElement(\"td\",null,product.category),/*#__PURE__*/React.createElement(\"td\",null,product.brand),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"small\",onClick:function onClick(){return props.history.push(\"/product/\".concat(product._id,\"/edit\"));}},\"Edit\"),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"small\",onClick:function onClick(){return deleteHandler(product);}},\"Delete\")));}))));}","map":{"version":3,"sources":["/Users/sandrine/Desktop/My_Projects/amazona/frontend/src/screens/ProductListScreen.js"],"names":["React","useEffect","useDispatch","useSelector","createProduct","listProducts","LoadingBox","MessageBox","PRODUCT_CREATE_RESET","ProductListScreen","props","productList","state","loading","error","products","productCreate","loadingCreate","errorCreate","successCreate","success","createdProduct","product","dispatch","type","history","push","_id","deleteHandler","createHandler","map","name","price","category","brand"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { createProduct, listProducts } from '../actions/productActions';\nimport LoadingBox from '../components/LoadingBox';\nimport MessageBox from '../components/MessageBox';\nimport { PRODUCT_CREATE_RESET } from '../constants/productConstants';\n\nexport default function ProductListScreen(props) {\n  const productList = useSelector((state) => state.productList);\n  const { loading, error, products } = productList;\n\n  const productCreate = useSelector((state) => state.productCreate);\n  const {\n    loading: loadingCreate,\n    error: errorCreate,\n    success: successCreate,\n    product: createdProduct,\n  } = productCreate;\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (successCreate) {\n      dispatch({ type: PRODUCT_CREATE_RESET });\n      props.history.push(`/product/${createdProduct._id}/edit`);\n    }\n    dispatch(listProducts());\n  }, [createdProduct, dispatch, props.history, successCreate]);\n  const deleteHandler = () => {\n    /// TODO: dispatch delete action\n  };\n  const createHandler = () => {\n    dispatch(createProduct());\n  };\n  return (\n    <div>\n      <div className=\"row\">\n        <h1>Products</h1>\n        <button type=\"button\" className=\"primary\" onClick={createHandler}>\n          Create Product\n        </button>\n      </div>\n      {loadingCreate && <LoadingBox></LoadingBox>}\n      {errorCreate && <MessageBox variant=\"danger\">{errorCreate}</MessageBox>}\n      {loading ? (\n        <LoadingBox></LoadingBox>\n      ) : error ? (\n        <MessageBox variant=\"danger\">{error}</MessageBox>\n      ) : (\n        <table className=\"table\">\n          <thead>\n            <tr>\n              <th>ID</th>\n              <th>NAME</th>\n              <th>PRICE</th>\n              <th>CATEGORY</th>\n              <th>BRAND</th>\n              <th>ACTIONS</th>\n            </tr>\n          </thead>\n          <tbody>\n            {products.map((product) => (\n              <tr key={product._id}>\n                <td>{product._id}</td>\n                <td>{product.name}</td>\n                <td>{product.price}</td>\n                <td>{product.category}</td>\n                <td>{product.brand}</td>\n                <td>\n                  <button\n                    type=\"button\"\n                    className=\"small\"\n                    onClick={() =>\n                      props.history.push(`/product/${product._id}/edit`)\n                    }\n                  >\n                    Edit\n                  </button>\n                  <button\n                    type=\"button\"\n                    className=\"small\"\n                    onClick={() => deleteHandler(product)}\n                  >\n                    Delete\n                  </button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      )}\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}